window.parent.postMessage({
  type: 'registerTrigger',
  trigger: 'open_backpack_direct',
  name: 'Open Backpack (Direct)'
}, "*");

window.addEventListener("message", (event) => {
  const evt = event.data;
  for (const key in evt.data) {
    if (key == "trigger_open_backpack_direct") {
      // Try forcing the backpack directly without opening the menu first
      window.parent.postMessage({
        type: "forceMenuChoice",
        choice: "Open Backpack",
        mod: 0
      }, "*");
    }
  }
});
